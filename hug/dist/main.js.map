{"version":3,"sources":["webpack:///./js/index.js","webpack:///./js/model/bear.js"],"names":["PIXI","require","screen","pixiApp","Application","get","backgroundColor","stop","document","body","appendChild","view","loader","add","load","ticker","bear","bearSprite","stage","addChild","onScreenResize","getAllAttributes","width","height","renderer","resize","position","set","Math","round","onChange","start","MainModel","Bear","model","initialize","initSprite","bindEventListeners","textures","i","push","Texture","fromFrame","sprite","extras","AnimatedSprite","anchor","play","interactive","buttonMode","on","gotoAndPlay"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,OAAO,mBAAAC,CAAQ,EAAR,CAAb;;AAEA;AACA,IAAMC,SAAS,sBAAf;;AAEA;AACA,IAAMC,UAAU,IAAIH,KAAKI,WAAT,CAAqBF,OAAOG,GAAP,CAAW,OAAX,CAArB,EAA0CH,OAAOG,GAAP,CAAW,QAAX,CAA1C,EAAgE;AAC5EC,qBAAiB;AAD2D,CAAhE,CAAhB;;AAIAH,QAAQI,IAAR;;AAEAC,SAASC,IAAT,CAAcC,WAAd,CAA0BP,QAAQQ,IAAlC;AACA;;AAEAX,KAAKY,MAAL,CACKC,GADL,CACS,mBADT,EAEKC,IAFL,CAEU,YAAM;AACRX,YAAQY,MAAR,CAAeF,GAAf,CAAmB,iBAAS;AACxB,YAAMG,OAAO,oBAAb;AACA,YAAMC,aAAaD,KAAKX,GAAL,CAAS,QAAT,CAAnB;;AAEAF,gBAAQe,KAAR,CAAcC,QAAd,CAAuBF,UAAvB;;AAEA,iBAASG,cAAT,GAA0B;AAAA,wCACElB,OAAOmB,gBAAP,EADF;AAAA,gBACfC,KADe,yBACfA,KADe;AAAA,gBACRC,MADQ,yBACRA,MADQ;;AAGtBpB,oBAAQqB,QAAR,CAAiBC,MAAjB,CAAwBH,KAAxB,EAA+BC,MAA/B;AACAN,uBAAWS,QAAX,CAAoBC,GAApB,CAAwBC,KAAKC,KAAL,CAAWP,QAAQ,CAAnB,CAAxB,EAA+CM,KAAKC,KAAL,CAAWN,SAAS,CAApB,CAA/C;AACH;;AAEDH;;AAEAlB,eAAO4B,QAAP,CAAgB,QAAhB,EAA0BV,cAA1B;;AAEAjB,gBAAQ4B,KAAR;AAGH,KApBD;AAqBH,CAxBL,E;;;;;;;;;;;;;;;;;;;;;;AClBA,IAAMC,YAAY,mBAAA/B,CAAQ,EAAR,CAAlB;AACA,IAAMD,OAAO,mBAAAC,CAAQ,EAAR,CAAb;;IAEqBgC,I;;;AACjB,oBAAc;AAAA;;AAAA;;AAGV,YAAMC,aAAN;;AAEAA,cAAMC,UAAN;AALU;AAMb;;;;qCAEY;AACT,gBAAMD,QAAQ,IAAd;;AAEAA,kBAAME,UAAN;AACAF,kBAAMG,kBAAN;AACH;;;qCAEY;AACT,gBAAMH,QAAQ,IAAd;AACA,gBAAMI,WAAW,EAAjB;AACA,gBAAIC,IAAI,CAAR;;AAEA;AACA,mBAAOA,KAAK,EAAZ,EAAgBA,KAAK,CAArB,EAAwB;AACpBD,yBAASE,IAAT,CAAcxC,KAAKyC,OAAL,CAAaC,SAAb,CAAuB,SAASH,CAAT,GAAa,MAApC,CAAd;AACH;;AAED,gBAAMI,SAAS,IAAI3C,KAAK4C,MAAL,CAAYC,cAAhB,CAA+BP,QAA/B,CAAf;;AAEAK,mBAAOG,MAAP,CAAcnB,GAAd,CAAkB,GAAlB,EAAuB,GAAvB;;AAEAgB,mBAAOI,IAAP;;AAEAb,kBAAMP,GAAN,CAAU,EAACgB,cAAD,EAAV;AACH;;;6CAEoB;AACjB,gBAAMT,QAAQ,IAAd;AACA,gBAAMS,SAAST,MAAM7B,GAAN,CAAU,QAAV,CAAf;;AAEAsC,mBAAOK,WAAP,GAAqB,IAArB;AACAL,mBAAOM,UAAP,GAAoB,IAApB;;AAEAN,mBAAOO,EAAP,CAAU,aAAV,EAAyB,YAAM;AAC3BP,uBAAOQ,WAAP,CAAmB,CAAnB;AACH,aAFD;AAKH;;;;EA/C6BnB,S;;kBAAbC,I","file":"main.js","sourcesContent":["import Screen from './model/screen';\nimport Bear from './model/bear';\n\nconst PIXI = require('pixi.js');\n\n// init helpers\nconst screen = new Screen();\n\n// init renderer\nconst pixiApp = new PIXI.Application(screen.get('width'), screen.get('height'), {\n    backgroundColor: 0xffffff\n});\n\npixiApp.stop();\n\ndocument.body.appendChild(pixiApp.view);\n// add bear\n\nPIXI.loader\n    .add('./assets/hug.json')\n    .load(() => {\n        pixiApp.ticker.add(delta => {\n            const bear = new Bear();\n            const bearSprite = bear.get('sprite');\n\n            pixiApp.stage.addChild(bearSprite);\n\n            function onScreenResize() {\n                const {width, height} = screen.getAllAttributes();\n\n                pixiApp.renderer.resize(width, height);\n                bearSprite.position.set(Math.round(width / 2), Math.round(height / 2));\n            }\n\n            onScreenResize();\n\n            screen.onChange('resize', onScreenResize);\n\n            pixiApp.start();\n\n\n        });\n    });\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","const MainModel = require('./../lib/main-model');\nconst PIXI = require('pixi.js');\n\nexport default class Bear extends MainModel {\n    constructor() {\n        super();\n\n        const model = this;\n\n        model.initialize();\n    }\n\n    initialize() {\n        const model = this;\n\n        model.initSprite();\n        model.bindEventListeners();\n    }\n\n    initSprite() {\n        const model = this;\n        const textures = [];\n        let i = 0;\n\n        // hug sprite\n        for (; i <= 75; i += 1) {\n            textures.push(PIXI.Texture.fromFrame('hug-' + i + '.png'));\n        }\n\n        const sprite = new PIXI.extras.AnimatedSprite(textures);\n\n        sprite.anchor.set(0.5, 0.5);\n\n        sprite.play();\n\n        model.set({sprite});\n    }\n\n    bindEventListeners() {\n        const model = this;\n        const sprite = model.get('sprite');\n\n        sprite.interactive = true;\n        sprite.buttonMode = true;\n\n        sprite.on('pointerdown', () => {\n            sprite.gotoAndPlay(0);\n        })\n\n\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/model/bear.js"],"sourceRoot":""}